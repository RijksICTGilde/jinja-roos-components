{% set actions = _component_context.actions | default([]) %}
{% set alignment = _component_context.alignment | default('start') %}
{% set gap = _component_context.gap | default('md') %}
{% set direction = _component_context.direction | default('horizontal') %}
{% set additional_class = _component_context.class | default('') %}
{% set content = _component_context.content | default('') %}

{# Build CSS classes #}
{% set action_group_classes = ['rvo-action-group'] %}

{% if direction == 'vertical' %}
    {% set action_group_classes = action_group_classes + ['rvo-action-group--vertical'] %}
{% endif %}

{% if alignment == 'end' %}
    {% set action_group_classes = action_group_classes + ['rvo-action-group--align-end'] %}
{% elif alignment == 'center' %}
    {% set action_group_classes = action_group_classes + ['rvo-action-group--align-center'] %}
{% elif alignment == 'space-between' %}
    {% set action_group_classes = action_group_classes + ['rvo-action-group--space-between'] %}
{% endif %}

{% if gap %}
    {% set action_group_classes = action_group_classes + ['rvo-action-group--gap-' + gap] %}
{% endif %}

{% if additional_class %}
    {% set action_group_classes = action_group_classes + [additional_class] %}
{% endif %}

<div 
    class="{{ action_group_classes | join(' ') }}"
    data-roos-component="action-group"
    data-roos-alignment="{{ alignment }}"
    data-roos-direction="{{ direction }}"
    data-roos-gap="{{ gap }}">
    
    {% if content %}
        {{ content | safe }}
    {% elif actions %}
        {% for action in actions %}
            {% if action.type == 'button' %}
                <button 
                    type="{{ action.buttonType | default('button') }}"
                    class="utrecht-button {% if action.kind == 'primary' %}utrecht-button--primary-action{% elif action.kind == 'secondary' %}utrecht-button--secondary-action{% elif action.kind == 'tertiary' %}utrecht-button--subtle-action{% endif %}{% if action.class %} {{ action.class }}{% endif %}"
                    {% if action.disabled %}disabled{% endif %}
                    {% if action.onclick %}onclick="{{ action.onclick }}"{% endif %}
                    {% if action.ariaLabel %}aria-label="{{ action.ariaLabel }}"{% endif %}>
                    {{ action.label }}
                </button>
            {% elif action.type == 'link' %}
                <a href="{{ action.href | default('#') }}"
                   class="rvo-link{% if action.class %} {{ action.class }}{% endif %}"
                   {% if action.target %}target="{{ action.target }}"{% endif %}
                   {% if action.ariaLabel %}aria-label="{{ action.ariaLabel }}"{% endif %}>
                    {{ action.label }}
                </a>
            {% endif %}
        {% endfor %}
    {% endif %}
    
</div>